{% load django_templating_sigh %}

  <div class="nodebox">
      <h2>Summary:</h2>
      <p class="indented">{{client_list|length }} Nodes were included in your report.</p>
          {% if clean_client_list %}
              <div class="clean">
                  <span class="nodelisttitle"><a href="javascript:toggleLayer('goodsummary');" title="Click to Expand" class="commentLink">{{clean_client_list|length}}</a> nodes are clean.<br /></span>
                  <div class="items" id="goodsummary"><ul class="plain">
                      {% for client in clean_client_list %}
                          {% set_interaction "foo" %}
	                  <li><b>Node: </b></tt>
			  <tt><a href="{% block linkprefix1 %}#{% endblock %}{{client.name}}">{{client.name}}</a></tt><span class="mini-date">{{interaction.timestamp}}</span></li>
                      {% endfor %}
                  </ul></div>
              </div>
	  {% endif %}
          {% if bad_client_list %}
              <div class="bad">
                  <span class="nodelisttitle"><a href="javascript:toggleLayer('badsummary');" title="Click to Expand" class="commentLink">{{bad_client_list|length}}</a> nodes are bad.<br /></span>
                  <div class="items" id="badsummary"><ul class="plain">
                      {% for client in bad_client_list %}
                          {% set_interaction "foo" %}
	                  <li><b>Node: </b></tt>
			  <tt><a href="{% block linkprefix2 %}#{% endblock %}{{client.name}}">{{client.name}}</a></tt><span class="mini-date">{{interaction.timestamp}}</span></li>
                      {% endfor %}
                  </ul></div>
              </div>
	  {% endif %}
          {% if modified_client_list %}
              <div class="modified">
                  <span class="nodelisttitle"><a href="javascript:toggleLayer('modifiedsummary');" title="Click to Expand" class="commentLink">{{modified_client_list|length}}</a> nodes were modified in the previous run.<br /></span>
                  <div class="items" id="modifiedsummary"><ul class="plain">
                      {% for client in modified_client_list %}
                          {% set_interaction "foo" %}
	                  <li><b>Node: </b></tt>
			  <tt><a href="{% block linkprefix3 %}#{% endblock %}{{client.name}}">{{client.name}}</a></tt><span class="mini-date">{{interaction.timestamp}}</span></li>
                      {% endfor %}
                  </ul></div>
              </div>
	  {% endif %}
          {% if extra_client_list %}
              <div class="extra">
                  <span class="nodelisttitle"><a href="javascript:toggleLayer('extrasummary');" title="Click to Expand" class="commentLink">{{extra_client_list|length}}</a> nodes have extra configuration. (includes both good and bad nodes)<br /></span>
                  <div class="items" id="extrasummary"><ul class="plain">
                      {% for client in extra_client_list %}
                          {% set_interaction "foo" %}
	                  <li><b>Node: </b></tt>
			  <tt><a href="{% block linkprefix4 %}#{% endblock %}{{client.name}}">{{client.name}}</a></tt><span class="mini-date">{{interaction.timestamp}}</span></li>
                      {% endfor %}
                  </ul></div>
              </div>
	  {% endif %}
          {% if stale_up_client_list %}
              <div class="warning">
                  <span class="nodelisttitle"><a href="javascript:toggleLayer('vstalesummary');" title="Click to Expand" class="commentLink">{{stale_up_client_list|length}}</a> nodes did not run within the last 24 hours but were pingable.<br /></span>
                  <div class="items" id="vstalesummary"><ul class="plain">
                      {% for client in stale_up_client_list %}
                          {% set_interaction "foo" %}
	                  <li><b>Node: </b></tt>
			  <tt><a href="{% block linkprefix5 %}#{% endblock %}{{client.name}}">{{client.name}}</a></tt><span class="mini-date">{{interaction.timestamp}}</span></li>
                      {% endfor %}
                  </ul></div>
              </div>
	  {% endif %}
          {% if stale_all_client_list %}
              <div class="all-warning">
                  <span class="nodelisttitle"><a href="javascript:toggleLayer('stalesummary');" title="Click to Expand" class="commentLink">{{stale_all_client_list|length}}</a> nodes did not run within the last 24 hours. (includes nodes up and down)<br /></span>
                  <div class="items" id="stalesummary"><ul class="plain">
                      {% for client in stale_all_client_list %}
                          {% set_interaction "foo" %}
	                  <li><b>Node: </b></tt>
			  <tt><a href="{% block linkprefix6 %}#{% endblock %}{{client.name}}">{{client.name}}</a></tt><span class="mini-date">{{interaction.timestamp}}</span></li>
                      {% endfor %}
                  </ul></div>
              </div>
	  {% endif %}
          {% if down_client_list %}
              <div class="down">
                  <span class="nodelisttitle"><a href="javascript:toggleLayer('unpingablesummary');" title="Click to Expand" class="commentLink">{{down_client_list|length}}</a> nodes were down.<br /></span>
                  <div class="items" id="unpingablesummary"><ul class="plain">
                      {% for client in down_client_list %}
                          {% set_interaction "foo" %}
	                  <li><b>Node: </b></tt>
			  <tt><a href="#{{client.name}}">{{client.name}}</a></tt><span class="mini-date">{{interaction.timestamp}}</span></li>
                      {% endfor %}
                  </ul></div>
              </div>
	  {% endif %}
    </div>